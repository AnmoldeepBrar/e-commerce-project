<h2>Search Products</h2>
<%= form_tag(products_path, method: :get) do %>
  <div class="form-group">
    <%= select_tag(:category_id, options_for_select(@categories.map { |c| [c.name, c.id] }), include_blank: true, class: 'form-control') %>
  </div>
  <div class="form-group">
    <%= text_field_tag(:keyword, params[:keyword], placeholder: 'Enter keyword', class: 'form-control') %>
  </div>
  <%= submit_tag('Search', class: 'btn btn-primary') %>
<% end %>


<h1>All Products</h1>

<div class="products">
  <% @products.each do |product| %>
    <%= render partial: 'products/product', locals: { product: product } %>
  <% end %>
  <%= paginate @products %>
</div>

<h2>Products on Sale</h2>

<% @products_on_sale.each do |product| %>
  <div>
    <h3><%= product.name %></h3>
    <%= image_tag(product.image.url, alt: product.name, class: "product-image") if product.image.present? %>
    <p><%= product.description %></p>
    <p>Price: <%= number_to_currency(product.price) %></p>
  </div>
<% end %>

<hr>

<h2>Recently Updated Products</h2>

<% @recently_updated_products.each do |product| %>
  <div>
    <h3><%= product.name %></h3>
    <%= image_tag(product.image.url, alt: product.name, class: "product-image") if product.image.present? %>
    <p><%= product.description %></p>
    <p>Price: <%= number_to_currency(product.price) %></p>
  </div>
<% end %>
